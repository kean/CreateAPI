

# Configuration


CreateAPI supports a massive number of customization options to generate the most appropriate source code for your api.

To use these options, you must define a configuration file that includes these properties. This can be done using either YAML or JSON, for example:

**.create-api.yaml**:

```yaml
access: internal
fileHeaderComment: |
  // Generated by Create API
  // https://github.com/CreateAPI/CreateAPI
entities:
  defaultType: class
  includeInitializer: false
paths:
  style: operations
```

**.create-api.json**:

```json
{
  "access": "internal",
  "fileHeaderComment": "// Generated by Create API\n// https://github.com/CreateAPI/CreateAPI\n",
  "entities": {
    "generateStructs": false,
    "includeInitializer": false
  },
  "paths": {
    "style": "operations"
  }
}
```

After creating your configuration, you can use the `--config` option when running `create-api` to use it.

Below you can find the complete documentation for all available options.

# Available Options

- [generate](#generate)
- [module](#module)
- [mergeSources](#mergesources)
- [vendor](#vendor)
- [access](#access)
- [annotateDeprecations](#annotatedeprecations)
- [useSwiftyPropertyNames](#useswiftypropertynames)
- [inlineTypealiases](#inlinetypealiases)
- [acronyms](#acronyms)
- [indentation](#indentation)
- [spaceWidth](#spacewidth)
- [pluralizeProperties](#pluralizeproperties)
- [useNaiveDate](#usenaivedate)
- [fileHeaderComment](#fileheadercomment)
- [commentOptions](#commentoptions)
- [dataTypes](#datatypes)
- [package](#package)
  - [dependencies](#packagedependencies)
- [entities](#entities)
  - [defaultType](#entitiesdefaulttype)
  - [typeOverrides](#entitiestypeoverrides)
  - [imports](#entitiesimports)
  - [mutableProperties](#entitiesmutableproperties)
  - [baseClass](#entitiesbaseclass)
  - [protocols](#entitiesprotocols)
  - [includeIdentifiableConformance](#entitiesincludeidentifiableconformance)
  - [skipRedundantProtocols](#entitiesskipredundantprotocols)
  - [includeInitializer](#entitiesincludeinitializer)
  - [alwaysIncludeDecodableImplementation](#entitiesalwaysincludedecodableimplementation)
  - [alwaysIncludeEncodableImplementation](#entitiesalwaysincludeencodableimplementation)
  - [sortPropertiesAlphabetically](#entitiessortpropertiesalphabetically)
  - [optimizeCodingKeys](#entitiesoptimizecodingkeys)
  - [includeDefaultValues](#entitiesincludedefaultvalues)
  - [inlineReferencedSchemas](#entitiesinlinereferencedschemas)
  - [stripParentNameInNestedObjects](#entitiesstripparentnameinnestedobjects)
  - [exclude](#entitiesexclude)
  - [include](#entitiesinclude)
  - [nameTemplate](#entitiesnametemplate)
  - [filenameTemplate](#entitiesfilenametemplate)
- [paths](#paths)
  - [style](#pathsstyle)
  - [namespace](#pathsnamespace)
  - [includeResponseHeaders](#pathsincluderesponseheaders)
  - [imports](#pathsimports)
  - [overriddenResponses](#pathsoverriddenresponses)
  - [overriddenBodyTypes](#pathsoverriddenbodytypes)
  - [inlineSimpleRequests](#pathsinlinesimplerequests)
  - [inlineSimpleQueryParameters](#pathsinlinesimplequeryparameters)
  - [simpleQueryParametersThreshold](#pathssimplequeryparametersthreshold)
  - [removeRedundantPaths](#pathsremoveredundantpaths)
  - [exclude](#pathsexclude)
  - [include](#pathsinclude)
  - [filenameTemplate](#pathsfilenametemplate)
- [rename](#rename)
  - [properties](#renameproperties)
  - [parameters](#renameparameters)
  - [enumCases](#renameenumcases)
  - [entities](#renameentities)
  - [operations](#renameoperations)
  - [collectionElements](#renamecollectionelements)

---

## generate

**Type:** Set<Generate><br />
**Default:** `[.entities, .paths, .enums, .package]`

Different components that CreateAPI should generate.

Available options are `.entities`, `.paths`, `.enums` and `.package`.
Defaults to `[entities, paths, enums, package]`.

<br/>

## module

**Type:** ModuleName<br />
**Default:** `""`

The name of the module that the generated sources will be part of.

You must specify a value for this option otherwise an error will be thrown when running the generator.

<br/>

## mergeSources

**Type:** Bool<br />
**Default:** `false`

Merge generated Entities and Paths into single output files.

Merging the source files offers a compact output, but prevents the compiler from parallelizing build tasks resulting in slower builds for larger schemas.

<br/>

## vendor

**Type:** Vendor<br />
**Default:** `nil`

Enable vendor-specific logic (supported values: `github`)

<br/>

## access

**Type:** Access<br />
**Default:** `.public`

Access level modifier for all generated declarations
- `public`
- `internal`

<br/>

## annotateDeprecations

**Type:** Bool<br />
**Default:** `true`

Add `@available(*, deprecated)` attribute to deprecated types and properties

<br/>

## useSwiftyPropertyNames

**Type:** Bool<br />
**Default:** `true`

Prefixes booleans with `is` ("enabled" -> "isEnabled")

<br/>

## inlineTypealiases

**Type:** Bool<br />
**Default:** `true`

Any schema that can be converted to a type identifier.
For example, `typealias Pets = [Pet]` is inlined as `[Pet]`.

<br/>

## acronyms

**Type:** [String]<br />
**Default:** `["url", "id", "html", "ssl", "tls", "https", "http", "dns", "ftp", "api", "uuid", "json"]`

A list of acronyms that should be uppercased when present in property names.

To disable uppercasing of acronyms, set this property to an empty array.

<details>
<summary>Examples</summary>

With the given schema:

```yaml
type: object
properties:
  user_id:
    type: integer
  image_url:
    type: string
    format: uri
  acme_corporation:
    type: boolean
```

**No Acronyms**
```yaml
acronyms: []
```

```swift
var userId: Int
var imageUrl: URL
var isAcmeCorporation: Bool
```

**Custom Acronyms**
```yaml
acronyms:
- id
- url
- acme
```

```swift
var userID: Int
var imageURL: URL
var isACMECorporation: Bool
```

</details>

<br/>

## indentation

**Type:** ConfigOptions.Indentation<br />
**Default:** `.spaces`

Change the style of indentation. Supported values:
- `spaces`
- `tabs`

<br/>

## spaceWidth

**Type:** Int<br />
**Default:** `4`

Number of spaces to use when [`indentation`](#indentation) is set to `spaces`.

<br/>

## pluralizeProperties

**Type:** Bool<br />
**Default:** `true`

For example, `public var file: [File]` becomes `public var files: [File]`

<br/>

## useNaiveDate

**Type:** Bool<br />
**Default:** `true`

Parses dates (e.g. `"2021-09-29"`) using [NaiveDate](https://github.com/CreateAPI/NaiveDate)

<br/>

## fileHeaderComment

**Type:** String<br />
**Default:** `"// Generated by Create API\n// https://github.com/CreateAPI/CreateAPI"`

Overrides file header comment

<br/>

## commentOptions

**Type:** Set<CommentOption><br />
**Default:** `[.title, .description, .example, .externalDocumentation, .capitalized]`

Options used when generating comments.

**Available options:**
- `title` - Include the schema title (if available)
- `description` - Include the schema description (if available)
- `example` - Include the schema example value (if available)
- `externalDocumentation` - Include a markdown formatted link to the schema's external documentation (if available)
- `capitalized` - Automatically capitalize the comments

To disable comments completely, set this property to an empty array.

<details>
<summary>Examples</summary>

**Disable Comments**
```yaml
commentOptions: [] # or false
```

**Description Only**
```yaml
commentOptions: description
```

**Custom Comment**
```yaml
commentOptions: [description, capitalized]
```


**Detailed Comment** (default)
```yaml
commentOptions:
- title
- description
- example
- externalDocumentation
- capitalized
```

</details>

<br/>

## dataTypes

**Type:** DataTypes<br />
**Default:** `DataTypes()`

Change the data type format mapping to Swift types than what CreateAPI provides.

You can use this option in combination with [`entities.imports`](#entitiesimports), [`paths.imports`](#pathsimports), and [`package.dependencies`](#packagedependencies) for mapping to types that the default library does not provide.

It is your responsibility to ensure that the replacement type conforms to `Codable` and can properly decode and encode to the original primative type.

<details>
<summary>Examples</summary>

Supporting custom formats:
```yaml
dataTypes:
  string:
    uuid: String
    phone-number: PhoneNumber # imported type
  number:
    float: Double
```

Disable fixed-width integer types:
```yaml
dataTypes:
  integer:
    int32: Int
    int64: Int
```

Disable usage of `NaiveDate`:
```yaml
useNaiveDate: false # must be set otherwise `date` overrides are ignored
dataTypes:
  string:
    date: String
```

</details>

<br/>


# Entities

Options specifically related to generating entities


## entities.defaultType

**Type:** EntityType<br />
**Default:** `.struct`

The default type used when generating entities. Available options are `struct`, `class` or `finalClass`

To override the default value for individual entities, use the [`typeOverrides`](#entitiestypeoverrides) option.

> **Note**: If this value is set to `struct` but the entity cannot be represented as a struct (i.e when it contains a property that recursively contains itself), a warning will be logged and the type will generate as `finalClass` instead. You should explicitly handle this by using options such as [`typeOverrides`](#entitiestypeoverrides) or [`ignore`](#entitiesignore) instead.

<br/>

## entities.typeOverrides

**Type:** [String: EntityType]<br />
**Default:** `[:]`

A dictionary map that describes entities that should generate as a specific type that wasn't the [`defaultType`](#entitiesdefaulttype)

<details>
<summary>Examples</summary>

```yaml
entities:
  defaultType: struct
  typeOverrides:
    Animal: class
    Dog: finalClass
```

```yaml
entities:
  defaultType: finalClass
  typeOverrides:
    Animal: class
```

</details>

<br/>

## entities.imports

**Type:** Set<String><br />
**Default:** `[]`

Modules to be imported within the source files for generated entities

<br/>

## entities.mutableProperties

**Type:** Set<MutableProperties><br />
**Default:** `[.structs]`

Generate properties as mutable based on the type they are contained within.

The default value is `structs` which means that structs will use mutable properties but classes won't.
Set this property to `true` (or `[structs, classes]`) to always generate mutable properties and `false` (or `[]` to never generate mutable properties).

<details>
<summary>Examples</summary>

**Structs Only**
```yaml
entities:
  mutableProperties: structs
```

```swift
struct Foo {
  var bar: String
}

class Foo {
  let bar: String
}
```

**All Types**
```yaml
entities:
  mutableProperties: true # or [classes, structs]
```

```swift
struct Foo {
  var bar: String
}

class Foo1 {
  var bar: String
}
```

</details>

<br/>

## entities.baseClass

**Type:** String<br />
**Default:** `nil`

Base class used when generating `class` types

<br/>

## entities.protocols

**Type:** Set<String><br />
**Default:** `["Codable"]`

Protocols to be adopted by each generated entity

<br/>

## entities.includeIdentifiableConformance

**Type:** Bool<br />
**Default:** `false`

Automatically generate `Identifiable` conformance for entities that include an `id` property.

<br/>

## entities.skipRedundantProtocols

**Type:** Bool<br />
**Default:** `true`

Automatically removes `Encodable` or `Decodable` conformance when it is not required

<br/>

## entities.includeInitializer

**Type:** Bool<br />
**Default:** `true`

Generate an initializer for each entity

<br/>

## entities.alwaysIncludeDecodableImplementation

**Type:** Bool<br />
**Default:** `true`

Generate the `init(from:)` initializer for `Decodable` conformance, even when the compiler synthesized version could be used.

<br/>

## entities.alwaysIncludeEncodableImplementation

**Type:** Bool<br />
**Default:** `true`

Generate the `encode(to:)` method for `Encodable` conformance, even when the compiler synthesized version could be used.

<br/>

## entities.sortPropertiesAlphabetically

**Type:** Bool<br />
**Default:** `false`

Orders properties of an entity alphabetically instead of the order defined in the schema

<br/>

## entities.optimizeCodingKeys

**Type:** Bool<br />
**Default:** `true`

When `true` (the default), uses a single `StringCodingKey` type allowing string literals to be used in the place of individual `CodingKey` enum types.

For schemas with a large number of entities, this approach significantly reduces the binary size of the compiled code ([apple/swift#60287](https://github.com/apple/swift/issues/60287))

<br/>

## entities.includeDefaultValues

**Type:** Bool<br />
**Default:** `true`

If set to `true`, uses the `default` value from the schema for the generated property for booleans

<br/>

## entities.inlineReferencedSchemas

**Type:** Bool<br />
**Default:** `true`

Controls the behaviour when generating entities from nested `allOf` schemas.

<details>
<summary>Examples</summary>

With the following schema:

```yaml
components:
  schemas:
    Animal:
      properties:
        numberOfLegs:
          type: integer
    Dog:
      allOf:
      - $ref: '#/components/schemas/Animal'
      - type: object
        properties:
          goodBoy:
            type: boolean
```

When this property is set to `true` (the default):

```swift
struct Animal: Codable {
    var numberOfLegs: Int
}

struct Dog: Codable {
    var numberOfLegs: Int
    var isGoodBoy: Bool
}
```

However setting this property to `false` results results in the following:

```swift
struct Animal: Codable {
    var numberOfLegs: Int
}

struct Dog: Codable {
    var animal: Animal
    var isGoodBoy: Bool

    // ...
}
```

</details>

<br/>

## entities.stripParentNameInNestedObjects

**Type:** Bool<br />
**Default:** `false`

Strips the parent name of enum cases within objects that are `oneOf` / `allOf` / `anyOf` of nested references

<br/>

## entities.exclude

**Type:** Set<EntityExclude><br />
**Default:** `[]`

When set to a non-empty value, entities and entity properties with the given names will be ignored during generation.
Cannot be used in conjunction with [`include`](#entitiesinclude).

<details>
<summary>Examples</summary>

```yaml
entities:
  exclude:
  - Pet
  - Store.id
```

</details>

<br/>

## entities.include

**Type:** Set<String><br />
**Default:** `[]`

When set to a non-empty value, only entities matching the given names will be generated.
This cannot be used in conjunction with [`exclude`](#entitiesexclude).

<br/>

## entities.nameTemplate

**Type:** String<br />
**Default:** `"%0"`

A template used when generating entity names to allow for prefixing or suffixing.

<details>
<summary>Examples</summary>

```yaml
entities:
  nameTemplate: "%0DTO" # PetDTO, StoreDTO, ErrorDTO
```

```yaml
entities:
  nameTemplate: "_%0" # _Pet, _Store, _Error
```

</details>

<br/>

## entities.filenameTemplate

**Type:** String<br />
**Default:** `"%0.swift"`

Template to use for Entity file generation

<details>
<summary>Examples</summary>

```yaml
entities:
  filenameTemplate: "%0Model.swift"
```

</details>

<br/>


# Package

Options specifically related generated a Swift Package.


## package.dependencies

**Type:** [PackageDeclaration]<br />
**Default:** `[]`

Additional remote Swift Package imports.

<details>
<summary>Examples</summary>

```yaml
package:
  dependencies:
  - url: https://github.com/apple/swift-argument-parser
    products:
    - ArgumentParser
    requirement:
      exact:
        version: 1.1.1
  - url: https://github.com/apple/swift-algorithms
    products:
    - Algorithms
    requirement:
      range:
        from: 1.0.0
        to: 2.0.0
  - url: https://github.com/apple/swift-metrics.git
    products:
    - Metrics
    requirement:
      closedRange:
        from: 2.0.0
        to: 2.9.1
  - url: https://github.com/apple/swift-log
    products:
    - Logging
    requirement:
      branch:
        name: main
  - url: https://github.com/apple/swift-numerics
    products:
    - RealModule
    - ComplexModule
    requirement:
      commit:
        hash: 7f2d022d3d9b55bf812814f5d01896cbfa0fd4da
  - url: https://github.com/apple/swift-system
    products:
    - SystemPackage
    requirement:
      from:
        version: 1.2.1
```
</details>

<br/>


# Paths

Options specifically related to generating paths


## paths.style

**Type:** ConfigOptions.PathsStyle<br />
**Default:** `.rest`

The style used when generating path definitions

- `rest` - Generates nest structs to represent path components
- `operations` - Generates a plain list of request operations

<details>
<summary>Examples</summary>

**Rest**
```swift
// Uses namespaces and names based on the path for each request
Paths.pets.get(limit: nil) // GET /pets
Paths.pets.petID("1").get // GET /pets/1
```

**Operations**
```swift
// Uses the `operationId` defined in the schema for each request
Paths.listPets(limit: nil) // GET /pets
Paths.showPetById(petID: "1") // GET /pets/1
```

</details>

<br/>

## paths.namespace

**Type:** String<br />
**Default:** `"Paths"`

The namespace type for all generated paths

<br/>

## paths.includeResponseHeaders

**Type:** Bool<br />
**Default:** `true`

Generate response headers using [HTTPHeaders](https://github.com/CreateAPI/HTTPHeaders)

<br/>

## paths.imports

**Type:** Set<String><br />
**Default:** `["Get"]`

Modules to be imported within the source files for generated requests

<br/>

## paths.overriddenResponses

**Type:** [String: String]<br />
**Default:** `[:]`

Allows you to override mapping of specific response types to a custom (or generated) type instead.

For example:

```yaml
paths:
  overriddenResponses:
    MyApiResponseType: MyCustomDecodableType
```

<br/>

## paths.overriddenBodyTypes

**Type:** [String: String]<br />
**Default:** `[:]`

Tell CreateAPI how to map an unknown request or response content types to a Swift type used in the path generation.

For example:

```yaml
paths:
  overriddenBodyTypes:
    application/octocat-stream: String
```

<br/>

## paths.inlineSimpleRequests

**Type:** Bool<br />
**Default:** `true`

Inline simple requests, like the ones with a single parameter

<br/>

## paths.inlineSimpleQueryParameters

**Type:** Bool<br />
**Default:** `true`

Inline query parameters for simple requests instead of generating a Parameter type

<br/>

## paths.simpleQueryParametersThreshold

**Type:** Int<br />
**Default:** `2`

The threshold of query parameters to inline when using `inlineSimpleQueryParameters`.

<br/>

## paths.removeRedundantPaths

**Type:** Bool<br />
**Default:** `true`

Remove redundant paths if possible

<br/>

## paths.exclude

**Type:** Set<String><br />
**Default:** `[]`

When set to a non-empty value, the given paths will be ignored during generation.
Cannot be used in conjunction with [`include`](#pathsinclude).

<br/>

## paths.include

**Type:** Set<String><br />
**Default:** `[]`

When set to a non-empty value, only the given paths will be generated.
This cannot be used in conjunction with [`exclude`](#pathsexclude).

<br/>

## paths.filenameTemplate

**Type:** String<br />
**Default:** `"%0.swift"`

Template to use for Paths file generation.

<details>
<summary>Examples</summary>

```yaml
paths:
  filenameTemplate: "%0API.swift"
```

</details>

<br/>


# Rename

Options used to configure detailed renaming rules for all aspects of the generated code.


## rename.properties

**Type:** [String: String]<br />
**Default:** `[:]`

Rename schema properties prior to processing. Rules can apply to all properties or to
properties of a specific entity.

<details>
<summary>Examples</summary>

```yaml
rename:
  properties:
    favorite_food: food # renames any schema property called 'favorite_food` to food
    User.first_name: name # renames only the 'first_name` schema property on the `User` entity
```

</details>

<br/>

## rename.parameters

**Type:** [String: String]<br />
**Default:** `[:]`

Rename query parameters

<br/>

## rename.enumCases

**Type:** [String: String]<br />
**Default:** `[:]`

Rename enum cases

<br/>

## rename.entities

**Type:** [String: String]<br />
**Default:** `[:]`

Rename entities

<br/>

## rename.operations

**Type:** [String: String]<br />
**Default:** `[:]`

Rename operations when using the `"operations"` style for path generation

<br/>

## rename.collectionElements

**Type:** [String: String]<br />
**Default:** `[:]`

Rename anonymous collection elements. By default, use a singularized form of the property name

<br/>


---

> **Note**:
> Want to contribute to the documentation? [Edit it here](../Sources/CreateOptions/ConfigOptions.swift).
