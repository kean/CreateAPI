// Generated by Create API
// https://github.com/CreateAPI/CreateAPI

import Foundation
import NaiveDate

public struct BranchWithProtection: Codable {
    public var name: String
    public var commit: Commit
    public var links: Links
    public var isProtected: Bool
    /// Branch Protection
    public var protection: BranchProtection
    public var protectionURL: URL
    /// Example: "mas*"
    public var pattern: String?
    public var requiredApprovingReviewCount: Int?

    public struct Links: Codable {
        public var html: String
        public var this: URL

        public init(html: String, this: URL) {
            self.html = html
            self.this = this
        }

        private enum CodingKeys: String, CodingKey {
            case html
            case this = "self"
        }
    }

    public init(name: String, commit: Commit, links: Links, isProtected: Bool, protection: BranchProtection, protectionURL: URL, pattern: String? = nil, requiredApprovingReviewCount: Int? = nil) {
        self.name = name
        self.commit = commit
        self.links = links
        self.isProtected = isProtected
        self.protection = protection
        self.protectionURL = protectionURL
        self.pattern = pattern
        self.requiredApprovingReviewCount = requiredApprovingReviewCount
    }

    private enum CodingKeys: String, CodingKey {
        case name
        case commit
        case links = "_links"
        case isProtected = "protected"
        case protection
        case protectionURL = "protection_url"
        case pattern
        case requiredApprovingReviewCount = "required_approving_review_count"
    }
}
