// Generated by Create API
// https://github.com/CreateAPI/CreateAPI

import Foundation
import NaiveDate

public struct CommitComparison: Codable {
    /// Example: "https://api.github.com/repos/octocat/Hello-World/compare/master...topic"
    public var url: URL
    /// Example: "https://github.com/octocat/Hello-World/compare/master...topic"
    public var htmlURL: URL
    /// Example: "https://github.com/octocat/Hello-World/compare/octocat:bbcd538c8e72b8c175046e27cc8f907076331401...octocat:0328041d1152db8ae77652d1618a02e57f745f17"
    public var permalinkURL: URL
    /// Example: "https://github.com/octocat/Hello-World/compare/master...topic.diff"
    public var diffURL: URL
    /// Example: "https://github.com/octocat/Hello-World/compare/master...topic.patch"
    public var patchURL: URL
    /// Commit
    public var baseCommit: Commit
    /// Commit
    public var mergeBaseCommit: Commit
    /// Example: "ahead"
    public var status: Status
    public var aheadBy: Int
    public var behindBy: Int
    public var totalCommits: Int
    public var commits: [Commit]
    public var files: [DiffEntry]?

    /// Example: "ahead"
    public enum Status: String, Codable, CaseIterable {
        case diverged
        case ahead
        case behind
        case identical
    }

    public init(url: URL, htmlURL: URL, permalinkURL: URL, diffURL: URL, patchURL: URL, baseCommit: Commit, mergeBaseCommit: Commit, status: Status, aheadBy: Int, behindBy: Int, totalCommits: Int, commits: [Commit], files: [DiffEntry]? = nil) {
        self.url = url
        self.htmlURL = htmlURL
        self.permalinkURL = permalinkURL
        self.diffURL = diffURL
        self.patchURL = patchURL
        self.baseCommit = baseCommit
        self.mergeBaseCommit = mergeBaseCommit
        self.status = status
        self.aheadBy = aheadBy
        self.behindBy = behindBy
        self.totalCommits = totalCommits
        self.commits = commits
        self.files = files
    }

    private enum CodingKeys: String, CodingKey {
        case url
        case htmlURL = "html_url"
        case permalinkURL = "permalink_url"
        case diffURL = "diff_url"
        case patchURL = "patch_url"
        case baseCommit = "base_commit"
        case mergeBaseCommit = "merge_base_commit"
        case status
        case aheadBy = "ahead_by"
        case behindBy = "behind_by"
        case totalCommits = "total_commits"
        case commits
        case files
    }
}
